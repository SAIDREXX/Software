---
import { client } from "../../database/client";
const { rows } = await client.execute({
    sql: "SELECT * FROM denuncias WHERE matricula_denunciante = ?",
    args: ["213Z0225"],
});

const codigosIdentificacion = rows.map((row) => row.codigo_identificacion);
---

{
    rows.length === 0 ? (
        <h1>No hay ninguna denuncia</h1>
    ) : (
        <div>
            {rows.map((row) => (
                <div class="relative font-[sans-serif]">
                    <button
                        type="button"
                        id="dropdownToggle"
                        class="w-full px-5 py-2.5 border border-gray-300 text-gray-800 text-sm outline-none bg-white hover:bg-gray-50"
                    >
                        {row.codigo_identificacion}
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="w-3 fill-gray-500 inline ml-3"
                            viewBox="0 0 24 24"
                        >
                            <path
                                fill-rule="evenodd"
                                d="M11.99997 18.1669a2.38 2.38 0 0 1-1.68266-.69733l-9.52-9.52a2.38 2.38 0 1 1 3.36532-3.36532l7.83734 7.83734 7.83734-7.83734a2.38 2.38 0 1 1 3.36532 3.36532l-9.52 9.52a2.38 2.38 0 0 1-1.68266.69734z"
                                clip-rule="evenodd"
                                data-original="#000000"
                            />
                        </svg>
                    </button>

                    <ul
                        id="dropdownMenu"
                        class="absolute hidden shadow-[0_8px_19px_-7px_rgba(6,81,237,0.2)] bg-white py-2 z-[1000] min-w-full w-max divide-y max-h-96 overflow-auto"
                    >
                        <li class="py-3 px-5 hover:bg-gray-50 text-gray-800 text-sm cursor-pointer">
                            <div class="flex items-end max-w-screen-lg mx-auto">
                                {row.estado === 0 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            Enviada
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : row.estado === 1 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            Enviada
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-green-500" />
                                        </div>
                                    </div>
                                ) : (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            Enviada
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-green-500" />
                                        </div>
                                    </div>
                                )}

                                {row.estado === 0 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-gray-300 mb-2 mr-4">
                                            En la Jefatura de Carrera
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-gray-300 flex items-center justify-center rounded-full">
                                                <span class="text-sm text-gray-400 font-bold">
                                                    2
                                                </span>
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : row.estado === 1 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            En la Jefatura de Carrera
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <span class="w-3 h-3 bg-green-500 rounded-full" />
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : row.estado === 2 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            En la Jefatura de Carrera
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-green-500" />
                                        </div>
                                    </div>
                                ) : (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            En la Jefatura de Carrera
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-green-500" />
                                        </div>
                                    </div>
                                )}

                                {row.estado === 0 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-gray-300 mb-2 mr-4">
                                            En la Dirección Académica
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-gray-300 flex items-center justify-center rounded-full">
                                                <span class="text-sm text-gray-400 font-bold">
                                                    3
                                                </span>
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : row.estado === 1 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-gray-300 mb-2 mr-4">
                                            En la Dirección Académica
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-gray-300 flex items-center justify-center rounded-full">
                                                <span class="text-sm text-gray-400 font-bold">
                                                    3
                                                </span>
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : row.estado === 2 ? (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            En la Dirección Académica
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <span class="w-3 h-3 bg-green-500 rounded-full" />
                                            </div>
                                            <div class="w-full h-[3px] bg-gray-300" />
                                        </div>
                                    </div>
                                ) : (
                                    <div class="w-full">
                                        <h6 class="text-sm font-bold text-green-500 mb-2 mr-4">
                                            En la Dirección Académica
                                        </h6>
                                        <div class="flex items-center w-full">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="w-full h-[3px] bg-green-500" />
                                        </div>
                                    </div>
                                )}

                                {row.estado === 3 ? (
                                    <div>
                                        <h6 class="text-sm font-bold text-green-500 w-max mb-2">
                                            Procesada
                                        </h6>
                                        <div class="flex items-center">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-green-500 flex items-center justify-center rounded-full">
                                                <svg
                                                    xmlns="http://www.w3.org/2000/svg"
                                                    class="w-4 h-4 fill-green-500"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"
                                                        data-original="#000000"
                                                    />
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    <div>
                                        <h6 class="text-sm font-bold text-gray-300 w-max mb-2">
                                            Procesada
                                        </h6>
                                        <div class="flex items-center">
                                            <div class="w-7 h-7 z-50 shrink-0 mx-[-1px] border-2 border-gray-300 flex items-center justify-center rounded-full">
                                                <span class="text-sm text-gray-400 font-bold">
                                                    4
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </li>
                    </ul>
                </div>
            ))}
        </div>
    )
}
